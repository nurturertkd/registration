<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2025年暑期跆拳道訓練班 - 報名表格</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 font-sans">
  <div class="container mx-auto p-4 max-w-2xl">
    
    <!-- 表單部分 -->
    <div id="form-section" class="bg-white p-6 rounded-lg shadow-md">
      <h1 class="text-2xl font-bold text-center text-gray-800">2025年暑期跆拳道訓練班</h1>
      <h2 class="text-xl font-semibold text-center text-gray-600 mt-2">報名表格</h2>
      
      <p class="spacer h-4"></p>
      
      <p class="text-gray-600 text-center">家長您好！👋</p>
      <p class="text-gray-600 text-center">歡迎參加2025年暑期跆拳道訓練班！📝</p>
      <p class="text-gray-600 text-center">讓學員有個充實的暑假！🔥</p>
      <p class="text-gray-600 text-center mt-2">✨ 課程重點：</p>
      <ul class="text-gray-600 text-center list-none">
        <li class="ml-4"><strong>掌握跆拳道技巧</strong>：專業指導，提升技能，為未來比賽奠定堅實基礎！🥋</li>
        <li class="ml-4"><strong>全面身心發展</strong>：增強體魄、突破自我，塑造更強大的內心！💪</li>
        <li class="ml-4"><strong>比賽與交流機會</strong>：表現優秀的學員可優先代表本會參加全港跆拳道公開賽、中小學學界賽，甚至海外比賽與集訓！🏆</li>
      </ul>
      
      <p class="spacer h-4"></p>
      
      <p class="text-gray-600 text-center font-semibold">課堂資訊 📝</p>
      <p class="text-gray-600 text-center">日期：由 23/7 開始到 22/8</p>
      <p class="text-gray-600 text-center">時間：下午 3:00pm - 5:00pm</p>
      <p class="text-gray-600 text-center">地點：觀塘總館</p>
      
      <p class="spacer h-4"></p>
      
      <p class="text-gray-600 text-center font-semibold">暑期優惠，立刻報名！🔥</p>
      <p class="text-gray-600 text-center font-semibold">報讀整班課程：</p>
      <p class="text-gray-600 text-center ml-4">- 報讀 1 班，每班 $750</p>
      <p class="text-gray-600 text-center ml-4">- 報讀 2 班，每班 $660</p>
      <p class="text-gray-600 text-center ml-4">- 報讀 3 班或以上，每班 $600</p>
            <p class="spacer h-4"></p>
      <p class="text-gray-600 text-center font-semibold">報讀單堂課程：</p>
      <p class="text-gray-600 text-center ml-4">- 單堂 $300</p>
      <p class="text-gray-600 text-center ml-4">- 報讀 1 班後，單堂 $250</p>
      <p class="text-gray-600 text-center ml-4">- 報讀 2 班或以上後，單堂 $220</p>
            <p class="spacer h-4"></p>
      
            <p class="text-gray-600 text-center">報名後，將透過WhatsApp收到確認訊息及付款詳情💬</p>
      <p class="spacer h-4"></p>
      
      <!-- 學員資訊 -->
      <div class="mb-6">
        <h3 class="text-lg font-semibold text-gray-700">學員資訊</h3>
        <div class="mt-4">
          <label class="block text-gray-700">學員中文姓名 *</label>
          <input type="text" id="student-name" name="student-name" placeholder="請輸入學員姓名" class="w-full p-2 mt-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
        </div>
        <div class="mt-4">
          <label class="block text-gray-700">出生日期 *</label>
          <div class="flex space-x-2 mt-1">
<select id="birth-year" name="birth-year" class="w-1/3 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
  <option value="" disabled selected>年</option>
  <option value="2020">2020</option>
  <option value="2019">2019</option>
  <option value="2018">2018</option>
  <option value="2017">2017</option>
  <option value="2016">2016</option>
  <option value="2015">2015</option>
  <option value="2014">2014</option>
  <option value="2013">2013</option>
  <option value="2012">2012</option>
  <option value="2011">2011</option>
  <option value="2010">2010</option>
  <option value="2009">2009</option>
  <option value="2008">2008</option>
  <option value="2007">2007</option>
  <option value="2006">2006</option>
  <option value="2005">2005</option>
  <option value="2004">2004</option>
  <option value="2003">2003</option>
  <option value="2002">2002</option>
  <option value="2001">2001</option>
  <option value="2000">2000</option>
</select>
            <select id="birth-month" name="birth-month" class="w-1/3 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
              <option value="" disabled selected>月</option>
              <option value="01">1</option>
              <option value="02">2</option>
              <option value="03">3</option>
              <option value="04">4</option>
              <option value="05">5</option>
              <option value="06">6</option>
              <option value="07">7</option>
              <option value="08">8</option>
              <option value="09">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
            </select>
            <select id="birth-day" name="birth-day" class="w-1/3 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
              <option value="" disabled selected>日</option>
              <option value="01">1</option>
              <option value="02">2</option>
              <option value="03">3</option>
              <option value="04">4</option>
              <option value="05">5</option>
              <option value="06">6</option>
              <option value="07">7</option>
              <option value="08">8</option>
              <option value="09">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
            </select>
          </div>
        </div>
        <div class="mt-4">
          <label class="block text-gray-700">現有級別 *</label>
          <select id="belt-level" name="belt-level" class="w-full p-2 mt-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
            <option value="" disabled selected>請選擇級別</option>
            <option value="白帶">白帶</option>
            <option value="黃帶">黃帶</option>
            <option value="黃綠帶">黃綠帶</option>
            <option value="綠帶">綠帶</option>
            <option value="綠藍帶">綠藍帶</option>
            <option value="藍帶">藍帶</option>
            <option value="藍紅帶">藍紅帶</option>
            <option value="紅帶">紅帶</option>
            <option value="紅黑帶">紅黑帶</option>
            <option value="黑帶/品段">黑帶/品段</option>
          </select>
        </div>
        <div class="mt-4">
          <label class="block text-gray-700">聯絡電話（需接收WhatsApp訊息） *</label>
          <input type="tel" id="contact-phone" name="contact-phone" placeholder="請輸入有效的電話號碼" class="w-full p-2 mt-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
        </div>
      </div>
      
      <!-- 整班課程選擇 -->
      <div class="mb-6">
        <h3 class="text-lg font-semibold text-gray-700">整班課程選擇</h3>
        <div class="mt-4">
          <p class="text-gray-600">報名整班課程</p>
          <p class="text-gray-600">每班課程為3天，每天3:00-5:00pm</p>
          <p class="text-gray-600 text-sm">（報讀1班每班$750，報讀2班每班$660，報讀3班或以上每班$600）</p>
          <table class="w-full mt-2 border-collapse">
            <thead>
              <tr class="bg-gray-200">
                <th class="p-2 text-left">日期</th>
                <th class="p-2 text-left">項目</th>
                <th class="p-2 text-left">費用</th>
                <th class="p-2 text-center">選擇</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="py-1 px-2"><div>23/7-25/7</div><span class="text-sm block">(三至五)</span></td>
                <td class="py-1 px-2">搏擊A班</td>
                <td class="py-1 px-2">$750</td>
                <td class="py-1 px-2 text-center"><input type="checkbox" class="form-checkbox" name="course" value="搏擊A班 (23/7-25/7 三至五)"></td>
              </tr>
              <tr>
                <td class="py-1 px-2" colspan="4"><p class="text-gray-600 text-sm">特色描述：學習基本防身技巧，增強自信</p></td>
              </tr>
              <tr>
                <td class="py-1 px-2" colspan="4"><hr class="my-1 border-gray-300"></td>
              </tr>
              <tr>
                <td class="py-1 px-2"><div>30/7-1/8</div><span class="text-sm block">(三至五)</span></td>
                <td class="py-1 px-2">品勢A班</td>
                <td class="py-1 px-2">$750</td>
                <td class="py-1 px-2 text-center"><input type="checkbox" class="form-checkbox" name="course" value="品勢A班 (30/7-1/8 三至五)"></td>
              </tr>
              <tr>
                <td class="py-1 px-2" colspan="4"><p class="text-gray-600 text-sm">特色描述：練習形式，培養專注力與紀律</p></td>
              </tr>
              <tr>
                <td class="py-1 px-2" colspan="4"><hr class="my-1 border-gray-300"></td>
              </tr>
              <tr>
                <td class="py-1 px-2"><div>6/8-8/8</div><span class="text-sm block">(三至五)</span></td>
                <td class="py-1 px-2">搏擊B班</td>
                <td class="py-1 px-2">$750</td>
                <td class="py-1 px-2 text-center"><input type="checkbox" class="form-checkbox" name="course" value="搏擊B班 (6/8-8/8 三至五)"></td>
              </tr>
              <tr>
                <td class="py-1 px-2" colspan="4"><p class="text-gray-600 text-sm">特色描述：進階技巧，提高協調性與反應力</p></td>
              </tr>
              <tr>
                <td class="py-1 px-2" colspan="4"><hr class="my-1 border-gray-300"></td>
              </tr>
              <tr>
                <td class="py-1 px-2"><div>13/8-15/8</div><span class="text-sm block">(三至五)</span></td>
                <td class="py-1 px-2">品勢B班</td>
                <td class="py-1 px-2">$750</td>
                <td class="py-1 px-2 text-center"><input type="checkbox" class="form-checkbox" name="course" value="品勢B班 (13/8-15/8 三至五)"></td>
              </tr>
              <tr>
                <td class="py-1 px-2" colspan="4"><p class="text-gray-600 text-sm">特色描述：深化形式，增強記憶力與表現力</p></td>
              </tr>
              <tr>
                <td class="py-1 px-2" colspan="4"><hr class="my-1 border-gray-300"></td>
              </tr>
              <tr>
                <td class="py-1 px-2"><div>20/8-22/8</div><span class="text-sm block">(三至五)</span></td>
                <td class="py-1 px-2">考試&踢腳班</td>
                <td class="py-1 px-2">$750</td>
                <td class="py-1 px-2 text-center"><input type="checkbox" class="form-checkbox" name="course" value="考試&踢腳班 (20/8-22/8 三至五)"></td>
              </tr>
              <tr>
                <td class="py-1 px-2" colspan="4"><p class="text-gray-600 text-sm">特色描述：展示成果，獲得證書，慶祝成就</p></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- 單堂課程選擇（可收合） -->
      <div class="mb-6">
        <h3 class="text-lg font-semibold text-gray-700 cursor-pointer flex items-center" onclick="toggleSingleSession()">
          單堂課程選擇
          <span id="toggle-icon" class="ml-2">▼</span>
        </h3>
        <div id="single-session-section" class="mt-4 hidden">
          <p class="text-gray-600">報名單堂課程</p>
          <p class="text-gray-600 text-sm">（單堂$300，報讀1班後單堂$250，報讀2班或以上後單堂$220）</p>
          <table class="w-full mt-2 border-collapse">
            <thead>
              <tr class="bg-gray-200">
                <th class="p-2 text-left">日期</th>
                <th class="p-2 text-left">項目</th>
                <th class="p-2 text-left">費用</th>
                <th class="p-2 text-center">選擇</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="p-2 border-t">23/7 <span class="text-sm">(三)</span></td>
                <td class="p-2 border-t">搏擊A班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="搏擊A班 (23/7 三)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">24/7 <span class="text-sm">(四)</span></td>
                <td class="p-2 border-t">搏擊A班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="搏擊A班 (24/7 四)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">25/7 <span class="text-sm">(五)</span></td>
                <td class="p-2 border-t">搏擊A班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="搏擊A班 (25/7 五)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">30/7 <span class="text-sm">(三)</span></td>
                <td class="p-2 border-t">品勢A班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="品勢A班 (30/7 三)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">31/7 <span class="text-sm">(四)</span></td>
                <td class="p-2 border-t">品勢A班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="品勢A班 (31/7 四)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">1/8 <span class="text-sm">(五)</span></td>
                <td class="p-2 border-t">品勢A班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="品勢A班 (1/8 五)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">6/8 <span class="text-sm">(三)</span></td>
                <td class="p-2 border-t">搏擊B班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="搏擊B班 (6/8 三)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">7/8 <span class="text-sm">(四)</span></td>
                <td class="p-2 border-t">搏擊B班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="搏擊B班 (7/8 四)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">8/8 <span class="text-sm">(五)</span></td>
                <td class="p-2 border-t">搏擊B班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="搏擊B班 (8/8 五)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">13/8 <span class="text-sm">(三)</span></td>
                <td class="p-2 border-t">品勢B班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="品勢B班 (13/8 三)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">14/8 <span class="text-sm">(四)</span></td>
                <td class="p-2 border-t">品勢B班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="品勢B班 (14/8 四)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">15/8 <span class="text-sm">(五)</span></td>
                <td class="p-2 border-t">品勢B班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="品勢B班 (15/8 五)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">20/8 <span class="text-sm">(三)</span></td>
                <td class="p-2 border-t">考試&踢腳班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="考試&踢腳班 (20/8 三)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">21/8 <span class="text-sm">(四)</span></td>
                <td class="p-2 border-t">考試&踢腳班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="考試&踢腳班 (21/8 四)"></td>
              </tr>
              <tr>
                <td class="p-2 border-t">22/8 <span class="text-sm">(五)</span></td>
                <td class="p-2 border-t">考試&踢腳班</td>
                <td class="p-2 border-t">$300</td>
                <td class="p-2 border-t text-center"><input type="checkbox" class="form-checkbox" name="single-session" value="考試&踢腳班 (22/8 五)"></td>
              </tr>
            </tbody>
          </table>
          <p class="text-gray-500 text-sm leading-tight mt-2">請至少選擇1個課程（整班或單堂）</p>
        </div>
      </div>
      
      <!-- 按鈕 -->
      <div class="flex justify-between">
        <button onclick="resetForm()" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400">清除表單</button>
        <button onclick="showConfirm()" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">下一步：確認資料</button>
      </div>
      <p class="spacer h-8"></p>
    </div>
    
    <!-- 確認資料頁面 -->
    <div id="confirm-section" class="bg-white p-6 rounded-lg shadow-md mt-6 hidden">
      <h2 class="text-xl font-semibold text-center text-gray-600">請確認您的報名資料</h2>
      <p class="spacer h-4"></p>
      <p class="text-gray-600">學員中文姓名：<span id="confirm-name"></span></p>
      <p class="text-gray-600">出生日期：<span id="confirm-birthdate"></span></p>
      <p class="text-gray-600">現有級別：<span id="confirm-belt"></span></p>
      <p class="text-gray-600">聯絡電話：<span id="confirm-phone"></span></p>
      <p class="text-gray-600">報名課堂：</p>
      <div id="confirm-classes" class="text-gray-600 ml-4"></div>
      <p class="spacer h-4"></p>
      <p class="text-gray-600">總費用：<span id="confirm-total"></span></p>
      <p class="text-gray-600 text-sm"><span id="confirm-formula"></span></p>
      <p class="spacer h-4"></p>
      <div class="flex justify-between">
        <button onclick="backToForm()" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400">返回</button>
        <button onclick="showThankYou()" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">提交</button>
      </div>
    </div>
    
    <!-- 提交成功（感謝）頁面 -->
    <div id="thankyou-section" class="bg-white p-6 rounded-lg shadow-md mt-6 hidden">
      <h2 class="text-xl font-semibold text-center text-gray-600">您已成功提交報名表格！📝</h2>
      <p class="text-gray-600 text-center mt-4">稍後您將透過WhatsApp收到確認訊息，以及付款詳情</p>
      <p class="text-gray-600 text-center">完成付款後，小朋友的報名將自動確認✅</p>
      <p class="spacer h-4"></p>
      <div class="text-center">
        <button onclick="resetForm()" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">重新報名</button>
      </div>
    </div>
  </div>

  <script>
    // 定義課程日期對應
    const courseDates = {
      '搏擊A班 (23/7-25/7 三至五)': ['23/7', '24/7', '25/7'],
      '品勢A班 (30/7-1/8 三至五)': ['30/7', '31/7', '1/8'],
      '搏擊B班 (6/8-8/8 三至五)': ['6/8', '7/8', '8/8'],
      '品勢B班 (13/8-15/8 三至五)': ['13/8', '14/8', '15/8'],
      '考試&踢腳班 (20/8-22/8 三至五)': ['20/8', '21/8', '22/8']
    };

    function toggleSingleSession() {
      const section = document.getElementById('single-session-section');
      const icon = document.getElementById('toggle-icon');
      section.classList.toggle('hidden');
      icon.textContent = section.classList.contains('hidden') ? '▼' : '▲';
    }

    function showConfirm() {
      const name = document.getElementById('student-name').value;
      const birthYear = document.getElementById('birth-year').value;
      const birthMonth = document.getElementById('birth-month').value;
      const birthDay = document.getElementById('birth-day').value;
      const beltLevel = document.getElementById('belt-level').value;
      const phone = document.getElementById('contact-phone').value;
      const courses = Array.from(document.querySelectorAll('input[name="course"]:checked')).map(input => input.value);
      const singleSessions = Array.from(document.querySelectorAll('input[name="single-session"]:checked')).map(input => input.value);
      
      if (!name || !birthYear || !birthMonth || !birthDay || !beltLevel || !phone || (courses.length === 0 && singleSessions.length === 0)) {
        alert('請填寫所有必填欄位並至少選擇一個課程（整班或單堂）！');
        return;
      }
      
      // 檢查重疊
      for (const course of courses) {
        const courseDays = courseDates[course];
        for (const session of singleSessions) {
          const sessionDay = session.match(/\((\d+\/\d+)[^\)]+\)/)[1];
          if (courseDays.includes(sessionDay)) {
            alert(`錯誤：您選擇的單堂課程 ${session} 與整班課程 ${course} 的日期重疊，請修正！`);
            return;
          }
        }
      }
      
      // 計算費用
      let totalCost = 0;
      let formula = [];
      const numCourses = courses.length;
      let singleSessionCost = 300;

      if (numCourses === 1) {
        totalCost += 750;
        singleSessionCost = 250;
        formula.push(`${numCourses} 班 × $750`);
      } else if (numCourses === 2) {
        totalCost += 1320;
        singleSessionCost = 220;
        formula.push(`${numCourses} 班 × $660`);
      } else if (numCourses >= 3) {
        totalCost += numCourses * 600;
        singleSessionCost = 220;
        formula.push(`${numCourses} 班 × $600`);
      }
      
      if (singleSessions.length > 0) {
        totalCost += singleSessions.length * singleSessionCost;
        formula.push(`${singleSessions.length} 單堂 × $${singleSessionCost}`);
      }
      
      const formulaText = formula.length > 0 ? formula.join(' + ') + ` = $${totalCost}` : `$${totalCost}`;
      
      // 更新確認頁
      document.getElementById('confirm-name').textContent = name;
      document.getElementById('confirm-birthdate').textContent = `${birthYear}年${birthMonth}月${birthDay}日`;
      document.getElementById('confirm-belt').textContent = beltLevel;
      document.getElementById('confirm-phone').textContent = phone;
      const classesDiv = document.getElementById('confirm-classes');
      const allSelections = [...courses, ...singleSessions];
      classesDiv.innerHTML = allSelections.map(selection => `<p>${selection}</p>`).join('');
      document.getElementById('confirm-total').textContent = `$${totalCost}`;
      document.getElementById('confirm-formula').textContent = formulaText;
      
      // 儲存數據以供提交
      window.formData = {
        name,
        birthYear,
        birthMonth,
        birthDay,
        beltLevel,
        phone,
        courses,
        singleSessions,
        totalCost
      };
      
      document.getElementById('form-section').classList.add('hidden');
      document.getElementById('confirm-section').classList.remove('hidden');
    }
    
    function backToForm() {
      document.getElementById('confirm-section').classList.add('hidden');
      document.getElementById('form-section').classList.remove('hidden');
    }
    
    function showThankYou() {
      const { name, birthYear, birthMonth, birthDay, beltLevel, phone, courses, singleSessions, totalCost } = window.formData;
      
      // 準備 Google Form 數據
      const formData = new FormData();
      formData.append('entry.107482956', name);
      formData.append('entry.974168646_year', birthYear);
      formData.append('entry.974168646_month', birthMonth);
      formData.append('entry.974168646_day', birthDay);
      formData.append('entry.1033637983', beltLevel);
      formData.append('entry.491976800', phone);
      formData.append('entry.441270855', [...courses, ...singleSessions].join(', '));
      formData.append('entry.739006543', `$${totalCost}`);
      
      // 提交到 Google Form
      fetch('https://docs.google.com/forms/d/e/1FAIpQLSeGaBwmbrPmEovI0x4oPh0YytgWMgpqWksYg9bqDQawtwLp6Q/formResponse', {
        method: 'POST',
        body: formData,
        mode: 'no-cors'
      }).then(() => {
        // 顯示感謝頁
        document.getElementById('confirm-section').classList.add('hidden');
        document.getElementById('thankyou-section').classList.remove('hidden');
      }).catch(error => {
        console.error('提交失敗:', error);
        alert('提交表單時發生錯誤，請稍後再試！');
      });
    }
    
    function resetForm() {
      document.getElementById('student-name').value = '';
      document.getElementById('birth-year').value = '';
      document.getElementById('birth-month').value = '';
      document.getElementById('birth-day').value = '';
      document.getElementById('belt-level').value = '';
      document.getElementById('contact-phone').value = '';
      document.querySelectorAll('input[name="course"]').forEach(input => input.checked = false);
      document.querySelectorAll('input[name="single-session"]').forEach(input => input.checked = false);
      document.getElementById('thankyou-section').classList.add('hidden');
      document.getElementById('form-section').classList.remove('hidden');
      const singleSessionSection = document.getElementById('single-session-section');
      const icon = document.getElementById('toggle-icon');
      singleSessionSection.classList.add('hidden');
      icon.textContent = '▼';
      window.formData = null;
    }
  </script>
</body>
</html>
